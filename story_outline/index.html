<!-- Dec 10 Thoughts
- Energy & Water should be together. Sankey should include spending on expanding infrastructure
- Energy json does not work
-->

<html>
<head>
  <meta charset="utf-8">
  <title>d3.chart.sankey (product demo)</title>
  <script src="//d3js.org/d3.v3.min.js"></script>
  <script src="//cdn.rawgit.com/newrelic-forks/d3-plugins-sankey/master/sankey.js"></script>
  <script src="//cdn.rawgit.com/misoproject/d3.chart/master/d3.chart.min.js"></script>
  <script src="//cdn.rawgit.com/q-m/d3.chart.sankey/master/d3.chart.sankey.min.js"></script>

  <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
  <script type="text/javascript">
      var buttonFunction = function(event){

        switch (event) {
          case 'police':
            var json_file ="police.json";
            break;
          case 'judge':
            var json_file ="judges.json";
            break;
          case 'energy':
            var json_file ="energy.json";
            break;
          case 'road':
            var json_file ="road.json";
            break;
          default:
            var json_file = 'energy.json';

        }

        $.getJSON(json_file, function(data){
          document.getElementById("category").innerHTML = data.category;
          document.getElementById("category1").innerHTML = data.category;
          document.getElementById("category2").innerHTML = data.category;
          document.getElementById("fund1").innerHTML = data.funds;
          document.getElementById("fund2").innerHTML = data.funds;
          document.getElementById("fund_description").innerHTML = data.fund_description;
          document.getElementById("percent").innerHTML = data.percent;
          document.getElementById("spending").innerHTML = data.spending;
          document.getElementById("vision").innerHTML = data.vision;
          $(function(){$("#sankey").load(data.sankey_json);});

        }).error(function(){
            console.log('error');
        });

      }

      window.onload = buttonFunction;
  </script>
</head>
<body>
  <div>
    <button id='police' onclick="buttonFunction(this.id)">Police</button>
    <button id='judge' onclick="buttonFunction(this.id)">Judicial Services</button>
    <button id='energy' onclick="buttonFunction(this.id)">Energy & Water Infrastructure</button>
    <button id='road' onclick="buttonFunction(this.id)">Road Infrastructure</button>
  </div>
  <h1>How does Cleveland spend Money on <span id="category"></span>?</h1>
  <div>
    <h2> Where does the money come from?</h2>
    <p>You may know you pay taxes, but don't know those dollars get to schools, roads or the Mayor. The answer is <b>funds</b>.</p>
    <h3>Here's how it works.</h3>
    <p>Cleveland has 8 funds, but money for <span id="category1"></span> comes from the <span id="fund1"></span>.</p>
    <p><span id="fund_description"></span></p>
    <p><span id="category2"></span> expenses make up <span id="percent"></span>% of <span id="fund2"></span>.</p>
  </div>
  <div>
    <h2> Where does the money go?</h2>
    <p><span id="spending"></span></p>
    <div id="sankey"></div>
    <ui
  </div>
  <div>
    <h2> Want to see more detailed spending of each department?</h2>
    <!-- dropdown of all category options to compare total spending time -->
  </div>
  <div>
    <h2>How will spending be different in 2021</h2>
    <p><span id="vision"></span></p>

  </div>


</body>
</html>
